<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Write unit tests for selected code — ensure_that • ensure</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write unit tests for selected code — ensure_that"><meta name="description" content="This function queries an LLM to write unit tests for selected R code. To do
so, it:
Initializes a ensurer(): an ellmer Chat() that knows how
to write testthat unit tests.
Reads the contents of the active .R file as well as the current selection.
Opens a corresponding test file (creating it if need be).
Asks the LLM to write unit tests for the current selection, using the
contents of the active .R file as context.
Streams the response into the corresponding test file.


Most ensure users will not need to interface with this function directly."><meta property="og:description" content="This function queries an LLM to write unit tests for selected R code. To do
so, it:
Initializes a ensurer(): an ellmer Chat() that knows how
to write testthat unit tests.
Reads the contents of the active .R file as well as the current selection.
Opens a corresponding test file (creating it if need be).
Asks the LLM to write unit tests for the current selection, using the
contents of the active .R file as context.
Streams the response into the corresponding test file.


Most ensure users will not need to interface with this function directly."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ensure</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ensure.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/simonpcouch/ensure/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Write unit tests for selected code</h1>
      <small class="dont-index">Source: <a href="https://github.com/simonpcouch/ensure/blob/main/R/ensure_that.R" class="external-link"><code>R/ensure_that.R</code></a></small>
      <div class="d-none name"><code>ensure_that.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function queries an LLM to write unit tests for selected R code. To do
so, it:</p><ul><li><p>Initializes a <code><a href="ensurer.html">ensurer()</a></code>: an ellmer <a href="https://ellmer.tidyverse.org/reference/Chat.html" class="external-link">Chat()</a> that knows how
to write testthat unit tests.</p></li>
<li><p>Reads the contents of the active <code>.R</code> file as well as the current selection.</p></li>
<li><p>Opens a corresponding test file (creating it if need be).</p></li>
<li><p>Asks the LLM to write unit tests for the current selection, using the
contents of the active <code>.R</code> file as context.</p></li>
<li><p>Streams the response into the corresponding test file.</p></li>
</ul><p><strong>Most ensure users will not need to interface with this function directly</strong>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ensure_that</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>TRUE</code>, invisibly.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Simon Couch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

